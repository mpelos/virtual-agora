#!/usr/bin/env python3
"""Virtual Agora - A structured multi-agent AI discussion platform.

This executable script provides the command-line interface for Virtual Agora,
allowing users to facilitate democratic discussions between AI agents from
multiple providers (Google, OpenAI, Anthropic, Grok).

Usage:
    virtual-agora [OPTIONS]

Examples:
    virtual-agora                           # Run with default config.yml
    virtual-agora --config my-config.yml   # Use custom configuration
    virtual-agora --dry-run                # Validate configuration only
    virtual-agora --help                   # Show all options

For more information, visit: https://github.com/virtualagora/virtual-agora
"""

import sys
import os
from pathlib import Path

# Add the source directory to Python path for development installations
# This allows the script to work even when not installed via pip
script_dir = Path(__file__).parent.absolute()
src_dir = script_dir.parent / "src"

if src_dir.exists():
    sys.path.insert(0, str(src_dir))

try:
    # Import and run the main application
    from virtual_agora.main import main
    
    if __name__ == "__main__":
        main()
        
except ImportError as e:
    print(f"Error: Could not import Virtual Agora. {e}")
    print("\nPlease ensure Virtual Agora is installed:")
    print("  pip install -e .")
    print("\nOr run from the project directory:")
    print("  python src/virtual_agora/main.py")
    sys.exit(1)
except KeyboardInterrupt:
    print("\nOperation cancelled by user.")
    sys.exit(130)
except Exception as e:
    print(f"Fatal error: {e}")
    sys.exit(1)